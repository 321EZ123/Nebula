---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
---

loading...
<script>
  let currentLang = localStorage.getItem("selectedLanguage");
  const redirect = (loc: string) => (window.location.href = loc);
  if (currentLang) {
    try {
      let parsed = JSON.parse(currentLang).value;
      switch (parsed) {
        case "en-US":
          redirect("/en-US/");
          break;
        case "jp":
          redirect("/jp/");
          break;
        default:
          redirect("/en-US/");
          break;
      }
    } catch {
      localStorage.clear();
      window.location.reload();
    }
  } else {
    if (navigator.language.includes("ja")) {
      localStorage.setItem("selectedLanguage", JSON.stringify({ value: "jp" }));
      redirect("/jp/");
    } else {
      localStorage.setItem(
        "selectedLanguage",
        JSON.stringify({ value: "en-US" })
      );
      redirect("/en-US/");
    }
  }
</script>
<noscript></noscript>You need to enable JavaScript to run this app.
