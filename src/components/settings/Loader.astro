<script>
    import { tabSettings, proxySettings, Settings } from "@utils/settings.ts";
    // This loads the settings in a nice way
    tabSettings.cloakTab(localStorage.getItem(Settings.TabSettings.tabCloak) as string || "default");
    proxySettings.changeProxy(localStorage.getItem(Settings.ProxySettings.proxy as string) || "automatic");
    document.addEventListener("astro:after-swap", function() {
        tabSettings.cloakTab(localStorage.getItem(Settings.TabSettings.tabCloak) as string || "default");
    });
</script>
